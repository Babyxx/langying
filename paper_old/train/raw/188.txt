Analyzing Concerns on Companies through Statistics of Search Engine Suggests and its Correlation to Market ShareAbstractThis paper proposes to utilize a search en- gine as a social sensor which is to be used for predicting market shares. More speci - cally, this paper studies a task of comparing rates of concerns of those who search for Web pages among several companies which supply products, given a speci c products domain. In this paper, we measure concerns of those who search for Web pages through search en- gine suggests. Then, we analyze whether rates of concerns of those who search for Web pages have certain correlation with actual market share. Furthermore, as an intermedi- ate statistics between the rates of concerns of those who search for Web pages and market share, we also examine correlations between the page view statistics at the kakaku.com site and the other two statistics. The results of the analysis show that those three statistics have certain correlations among each other.1 IntroductionMost Internet users usually use search engines such as Google, Yahoo!, and Bing in order to search for information about their concerns on the Internet. Those search engine companies recently have been studying how to analyze various kinds of search en- gine log data and to estimate concerns of those who search for Web pages. Those search engine com- panies further examine how to predict speci c in- formation in real world such as economic trend1,1http://docs.yahoo.co.jp/info/bigdata/ economiccondition/2014/01/ (in Japanese)Second AuthorAf liation / Address line 1 Af liation / Address line 2 Af liation / Address line 3 email@domainresults of elections2, spread of in uenza3 4 by an- alyzing concerns of those who search for Web pages within the search engine log data. For example, in the analysis of correlation between economic trend and search queries reported by Yahoo! JAPAN Big Data Report5, search queries that have high correla- tion with economic boom as well as economic de- pression are identi ed. Also in the analysis of corre- lation between results of election and search queries reported by Yahoo! JAPAN Big Data Report, ratio of votes garnered by parties is predicted based on bursty / non-bursty search queries. Thus, it has be- come popular recently to analyze concerns of those who search for Web pages and to compare them with people’s behavior in real world.Considering those recent studies on correlations between concerns of those who search for Web pages and real world statistics, this paper focuses on concerns of those who search for Web pages, which are especially about companies of certain product genres. Then, this paper proposes to utilize a search engine as a social sensor which is to be used for pre- dicting market shares. More speci cally, this pa- per studies a task of comparing rates of concerns of those who search for Web pages among several companies which supply products, given a speci c products domain. Then, we analyze whether rates2http://docs.yahoo.co.jp/info/bigdata/ election/2014/02/ (in Japanese)3http://docs.yahoo.co.jp/info/bigdata/ influenza/2014/01/ (in Japanese)4http://google.org/flutrends/about/how. html5http://docs.yahoo.co.jp/info/bigdata/ (in Japanese)  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Figure 1: Framework of Comparing Concerns on Companies through Statistics of Search Engine Suggests
                                                                                                                                                                                  of concerns of those who search for Web pages have certain correlation with actual market share.Figure 1 illustrates the overall  ow of our frame- work of comparing concerns on companies through statistics of search engine suggests. In this pa- per, we measure concerns of those who search for Web pages through search engine suggests. Fig- ure 2 shows an example of presenting search en- gines suggests given a query keyword “パナソニッ ク” (Panasonic). Here, the search engine collects user search logs including the query keyword “パナ ソニック” (Panasonic) and then presents suggests keywords such as “洗濯機” (washing machine), “ブ ルーレイ” (Blu-ray), “冷蔵庫” (refrigerator), and “ ビエラ” (VIERA) which have strong relation to the query term “パナソニック” (Panasonic).In our framework of Figure 2, given the query company names for analyzing concerns of those who search for Web pages, we  rst collect search en- gine suggests of those query company names. Next, by specifying those query company names as well as search engine suggests, we retrieve Web pages for all of the search engine suggests and collect them into a mixture of Web pages for several companies that are competitive with each other in certain prod- uct genres. Then, we apply a topic model to those mixture of Web pages and generate a set of topics as shown in Figure 1. In our framework, it is expected that, out of the whole set of generated topics, cer- tain percentage can be regarded as certain product genres. Actually, in the case of 10 company names we examine in this paper as search queries, out of the total 80 topics generated by the topic modeling procedure, we observed 23 topics that can be clearly regarded as certain product genres.Next, for each of those 23 topics regarding certain product genres, we compare the statistics of search engine suggests among the 10 company names. In the case of the TV and related product genres shown in Figure 3, for example, companies which have higher rates in the statistics of search engine sug- gests include “パナソニック” (Panasonic) (30%), “SONY” (21%), and “東 芝” (TOSHIBA) (19%). Then, we analyze whether rates of concerns of those who search for Web pages represented in terms of statistics of search engine suggests have certain cor- relation with actual market share at kakaku.com. Also, as an intermediate statistics between the rates of concerns of those who search for Web pages and market share, we also examine the page view statis- tics6 at the kakaku.com site and its correlation with the other two statistics. An example of an- alyzing those correlations in TV and related prod- uct genres is shown in Figures 3. As shown in this  gure, those three statistics have quite high corre- lations. Based on this observation, this paper pro- poses how to analyze correlation between concerns of those who search for Web pages and actual mar- ket share in certain product genres.Figure 2: An Example of Search Engine Suggests2 2.1Collecting Web Pages using Search Engine SuggestsSearch QueryFor the evaluation of this paper, we examine 10 query company names “ASUS”, “Lenovo”, “NEC”, “SONY”, “シャープ” (SHARP), “パナソニック” (Panasonic), “三 菱 電 機” (MITSUBISHI ELEC-6https://ssl.kakaku.com/trendsearch/ index.asp 
 Figure 3: Analyzing Correlation in TV and related Products Genres among Rates of Concerns of those who Search for Web Pages, Page View Statistics at kakaku.com, and Market Share at kakaku.com
TRIC), “富士通” (FUJITSU), “日立” (HITACHI), and “東芝” (TOSHIBA), which include well known Japanese electronics makers, and compare rates of concerns on those companies with respect to the products genre of electronics. We denote those 10 query company names as qj (j = 1,...,10) in this paper.2.2 Collecting Search Engine SuggestsFor a given query keyword, we specify about 100 types of Japanese hiragana characters to Google search engine7 and then collect at most about 1,000 suggests. About 100 types of Japanese hiragana characters include Japanese alphabet consisting of about 50 characters, voiced and semi-voiced variants of voiceless characters, and Youon. For example, when we type in “パナソニック そ” (“Panasonic”, “so”) into the Web search window, we can collect suggests which start with the reading character “ そ” (“so”) such as “掃除機 (soojiki)” (“cleaner”) and “ソーラー (sooraa)” (“solar”) are collected. For each query company name qj (j = 1,...,10), we denote the set of collected search engine suggests as S(qj). Table 1 shows the numbers of collected search engine suggests as well as those of collected Web pages for each of the 10 query company names.2.3 Collecting Web PagesFirst, let s (∈ S(qj)) be a search engine suggest for the search query qj, we collect top N ranked Web pages retrieved by AND search of the given query qj and the search engine suggest s into the set DN(qj,s) (we use the number N as 10 in this paper). Then, we collect those retrieved Web pages for all of the search engine suggests s in S(qj) into DN (qj ) as below:DN(qj) =   DN(qj,s) s∈ (qj)Here, we use Yahoo! Search BOSS API8 to collect N (= 10) URLs. Finally, we collect those Web pages within DN(qj) that are collected for each query qj of the 10 company names into the the set DN of theTable 1: Number of Collected Suggests and Web Pages  query qj# of suggests |S(qj )|   # of Web pages |DN (qj )| ASUS 838   5,253 Lenovo 840   5,296 NEC 902   6,611 SONY 812   5,632 “シャープ” (SHARP)    902 6,272“パナソニック” (Panasonic)    937 6,628“三菱電機” (MITSUBISHI ELECTRIC)    843 5,652“富士通” (FUJITSU)    898 6,643“日立” (HITACHI)    925 7,031“東芝” (TOSHIBA)    901 6,540total # of Web pages |DN |    — 60,919               7 8http://developer.yahoo.com/search/bossmixture of Web pages as below:DN =  DN(qj) jTable 1 shows the numbers of collected Web pages for each of the 10 query company names as well as that of the set of their mixture.2.4 Assigning Search Engine Suggests to Web PagesSince each Web page is retrieved by AND search of the given query qj and the search engine suggest s, one or more suggests are assigned to each Web page. For each Web page d, we collect search engine suggests s which satisfy d ∈ DN (qj , s) into the set S(qj,d,N) as below:àS(qj,d,N) = s ∈ S(qj) à d ∈ DN(qj,s)https://www.google.com/
3 Topic Modeling of Web Pages and Aggregating Suggests of a Topic3.1 Topic ModelWe apply a topic model to the set DN of the mixture of Web pages DN (qj ) collected for each query qj of the 10 company names.As a topic model, this paper employs LDA (La- tent Dirichlet Allocation) (Blei et al., 2003). Given the number of topics K as well as a set of documents represented by a sequence of words w, LDA esti- mates the distribution p(w | zn) (w ∈ V ) of a word w given a topic zn (n = 1,...,K) as well as that p(zn|d)(n=1,...,K)ofatopiczn givenadocu- ment d, where V is the set of vocabulary9. In this pa- per,weestimatethedistributionsp(w|zn)(w∈V) and p(zn | d) (n = 1,...,K) by GibbsLDA++10, where the parameters are tuned through a prelim- inary evaluation by examining the number of top- ics as K = 60 ∼ 100, and are then determined as K = 80 as well as α = 50/K, β = 0.1.3.2 Assigning a Topic to a Web PageLetdbeaWebpageinthesetDNofthemixture of Web pages DN(qj) collected for each query qj (j = 1,...,10) out of the 10 company names, and K be the number of topics. Then, to each Web page d, we assign the topic zn with the highest proba- bility P(zn|d). Next, for each topic zn, we collect Web pages d to which the topic zn is assigned (i.e., Web pages d for which the topic zu with the highest probability P(zu|d) is the same as zn) into the set DN (zn):àDN(zn) = d∈DN àzn = argmax P(zu|d)zu (u=1,...,K)Furthermore, for each query qj (j = 1, . . . , 10) out of the 10 company names, we extract Web pages collected by specifying qj as a query from the set DN (zn) into DN (zn, qj ) as below:3.3 Collecting Search Engine Suggests of a TopicNext, for each topic zn, this section describes how to collect search engine suggests from the the set DN(zn) of Web pages for zn. Then, given a topic zn and a query qj out of the 10 company names, for eachWebpagedincludedinthesetDN(zn,qj),we collect those search engine suggests within the set S(qj,d,N) into the set S(zn,qj,N) as below:S(zn,qj,N) =   S(qj,d,N) d∈ DN(zn,qj)When analyzing and comparing statistics of search engine suggests among the 10 companies for evaluation in the next section, we consider the lower bound θlbd of the probability P(zn|d). Then, from the set DN (zk , qj ), we collect Web pages which satisfy the lower bound θlbd into the set DN(zk,qj,θlbd)asbelow:à DN(zk,qj,θlbd) = d ∈ DN(zn,qj)àP(zn|d) ≥ θlbdFurthermore, we collect search engine suggests as- signedtoeachWebpagedinthesetDN(zk,qj,θlbd) into the set S(zn,qj,N,θlbd) as below: DN(zn,qj) = DN(zn) DN(qj)In this paper, as the set V of vocabulary, we use the set of entry titles of the Japanese version of Wikipedia, where the version we used in this evaluation was downloaded in March 2014 and has about 1,407,000 entries.10http://gibbslda.sourceforge.net/According to the procedure we present in sec- tion 3.3, for each topic zn, we collect search engine suggests for a query qj (j = 1,...,10) out of the 10 company names into the set S(zn,qj,N,θlbd). In this section, we analyze those sets S(zn, qj , N, θlbd) (j = 1, . . . , 10) of collected search engine suggests and compare their statistics among the 10 company names q1, . . . , q10. More speci cally, for each query company name qj, we measure the following rate of search engine suggests within the topic zn and con- sider them as concerns on those companies in the certainproductgenrerepresentedbythetopiczn:S(zn,qj,N,θlbd) =  d∈ DN(zn,qj,θlbd)S(qj,d,N)4 4.1Analyzing Concerns on Companies through Statistics of Search Engine Suggests and Market ShareAnalyzing Statistics of Search Engine Suggests 9à à àS(zn,qj,N,θlbd)à=  à à àS(zn, qi, N, θlbd)àirate(zn, qj , N, θlbd) 
                                                                                                         Figure 4: Rates of Search Engine Suggests in PC and related Products Genres (θ lbd = 0.1)As we show in Figure 1, in the case of 10 com- pany names we examine in this paper, out of the to- tal 80 topics generated by the topic modeling pro- cedure, we observed 23 topics that can be clearly regarded as certain product genres. Among those 23 topics on certain product genres, we pickup that on TV and related product genres as well as that on PC and related product genres. For those two topics, we further examine the lower bound θlbd of the probability P(zn|d) as 0 ∼ 0.9, and select θlbd = 0.4 for TV and related product genres and θlbd = 0.1 for PC and related product genres, re- spectively. These lower bounds are selected so that they result in the highest correlation between statis- tics of search engine suggests and actual market share at kakaku.com.For the two product genres, Figures 3 and 4 com- pare the statistics of search engine suggests among the 10 company names q1,...,q10. In the TV and related product genres, companies which have higher rates in the statistics of search engine sug- gests include “パナソニック” (Panasonic) (30%), “SONY” (21%), and “東芝” (TOSHIBA) (19%), while in the PC and related product genres, those in- clude “Lenovo” (23%), “ASUS” (21%), and “NEC”(20%).4.2 Analyzing Correlation of Statistics of Search Engine Suggests for Company Names and Market ShareThis section analyzes whether rates of concerns of those who search for Web pages presented in the previous section have certain correlation with actual market share at kakaku.com. Furthermore, as an intermediate statistics between the rates of concerns of those who search for Web pages and market share, we also examine the page view statistics11 at the kakaku.com site and its correlation with the other two statistics.More speci cally, for the two product genres of TV and related products as well as PC and re- lated products, Figures 3 and 5 show market share at kakaku.com in November 2014, respectively. Furthermore, for those two product genres, Figures 3 and 6 show page view statistics at the kakaku.com site, which are for the periods of December 8 to 14, 2014 for TV and related products, and Novem- ber 24 to 30, 2014 for PC and related products, re-11https://ssl.kakaku.com/trendsearch/ index.asp 
                                                                                                                                                                           Figure 5: Market Share at kakaku.com in PC and related Products Genres                                                                                                                                                                                      Figure 6: Page View Statistics at kakaku.com in PC and related Products Genres
spectively. Roughly speaking, those two statistics have certain correlation with the rates of concerns of those who search for Web pages, which are repre- sented as statistics of search engine suggests shown in Figures 3 and 4. These results support the claim that rates of concerns of those who search for Web pages contribute to estimating actual market share in product genres such as electronics domain.5 Related WorkRelated work include a technique of detecting in-  uenza epidemics from Twitter (Aramaki et al., 2011),that of predicting stock market from senti- ment analysis of Twitter (Bollen et al., 2011),that of predicting movie ranking based on Twitter anal- ysis before the release of the movie (Asur and Hu- berman, 2010),and that of predicting stock mar- ket based on Wikipedia page view statistics (Moat et al., 2013). Those previous related methods pre- dict changes in real world based on statistics avail- able through Internet such as that of Twitter and Wikipedia page view. In the method proposed in this paper, on the other hand, it is shown that real world statistics such as market share within certain product genres can be predicted based on rates of concerns of those who search for Web pages, which are measured by collecting search engine suggests of company names.6 ConclusionThis paper proposed to utilize a search engine as a social sensor which is to be used for predicting market shares. More speci cally, this paper stud- ied a task of comparing rates of concerns of those who search for Web pages among several compa- nies which supply products, given a speci c prod- ucts domain. In this paper, we measured concerns of those who search for Web pages through search engine suggests. Then, we analyzed whether rates of concerns of those who search for Web pages have certain correlation with actual market share. Fur- thermore, as an intermediate statistics between the rates of concerns of those who search for Web pages and market share, we also examined correlations be- tween the page view statistics at the kakaku.com site and the other two statistics. The results of the analysis showed that those three statistics have cer-tain correlations among each other.Future work includes scaling up the proposedmethod by applying it to all of the 23 topics shown in Figure 1 that can be regarded as product genres. For some topics, it can happen that statistics of search engine suggests and actual market share correlate a little. In such cases, it is necessary to examine the reasons why they do not correlate well. For some other topics and their corresponding product genres, it can also happen that market share statistics are not available at the kakaku.com or any other sites. In those cases, it is also necessary for us to consider in- corporating other information which represent mar- ket share of those product genres.ReferencesE. Aramaki, S. Masukawa, and M. Morita. 2011. Twitter catches the  u: Detecting in uenza epidemics using Twitter. In Proc. 2011 EMNLP, pages 1568–1576.S. Asur and B. A. Huberman. 2010. Predicting the future with social media. In Proc. WI-IAT, pages 492–499. D. M. Blei, A. Y. Ng, and M. I. Jordan. 2003. LatentDirichlet allocation. Journal of Machine Learning Re-search, 3:993–1022.J. Bollen, H. Mao, and X. Zeng. 2011. Twitter moodpredicts the stock market. Journal of ComputationalScience, 2(1):1–8.H. S. Moat, C. Curme, A. Avakian, D. Y. Kenett, H. E.Stanley, and T. Preis. 2013. Quantifying Wikipedia usage patterns before stock market moves. Scienti c Reports, 3(1801).